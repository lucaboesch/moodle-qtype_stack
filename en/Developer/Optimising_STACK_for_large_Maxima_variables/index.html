<!-- Ensures this only extends, not overrides, the theme. -->

<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://docs.stack-assessment.org/en/Developer/Optimising_STACK_for_large_Maxima_variables/">
      
      
        <link rel="prev" href="../Maxima_packages/">
      
      
        <link rel="next" href="../PHP-CAS/">
      
      <link rel="icon" href="../../../../content/logo_sm.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.0.3">
    
    
      
        <title>Optimising STACK for large Maxima variables - STACK Docs</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.6b71719e.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.2505c338.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../custom.css">
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/maths/moodle-qtype_stack@master/styles.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#optimising-stack-for-large-maxima-variables" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="">
    <a href="../../.." title="STACK Docs" 
    class="md-header__button md-logo" aria-label="STACK Docs" data-md-component="logo">
      <!-- Set the logo. -->

  <img src="../../../content/logo_large.png" alt="logo" style="width:2rem;height:0.95rem;">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <!--Make site title permament -->
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis md-ellipsis">
        <b>STACK Docs</b>
      </div>
    </div>
     
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
  </nav>
</header>

    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="STACK Docs" class="md-nav__button md-logo" aria-label="STACK Docs" data-md-component="logo">
      <!-- Set the logo. -->

  <img src="../../../content/logo_large.png" alt="logo" style="width:2rem;height:0.95rem;">

    </a>
    STACK Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
    
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    
    
      
      
      

  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        STACK
      </a>
    </li>
  

    
      
      
      

  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_1-2" 
      type="checkbox" id="__nav_1-2" >
      
      
      
        <label class="md-nav__link" for="__nav_1-2" tabindex="0" aria-expanded="false">
          AbInitio
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="AbInitio" data-md-level="2">
        <label class="md-nav__title" for="__nav_1-2">
          <span class="md-nav__icon md-icon"></span>
          AbInitio
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../AbInitio/" class="md-nav__link">
        Authoring quick start
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../AbInitio/Authoring_quick_start_1/" class="md-nav__link">
        Authoring quick start 1: a minimal working question
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../AbInitio/Authoring_quick_start_2/" class="md-nav__link">
        Authoring quick start 2: question variables
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../AbInitio/Authoring_quick_start_3/" class="md-nav__link">
        Authoring quick start 3: improving feedback
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../AbInitio/Authoring_quick_start_4/" class="md-nav__link">
        Authoring quick start 4: randomisation
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../AbInitio/Authoring_quick_start_5/" class="md-nav__link">
        Authoring quick start 5: question tests
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../AbInitio/Authoring_quick_start_6/" class="md-nav__link">
        Authoring quick start 6: multipart questions
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../AbInitio/Authoring_quick_start_7/" class="md-nav__link">
        Authoring quick start 7: turning simplification off
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../AbInitio/Authoring_quick_start_8/" class="md-nav__link">
        Authoring quick start 8: setting up a quiz
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_1-3" 
      type="checkbox" id="__nav_1-3" >
      
      
      
        <label class="md-nav__link" for="__nav_1-3" tabindex="0" aria-expanded="false">
          About
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="About" data-md-level="2">
        <label class="md-nav__title" for="__nav_1-3">
          <span class="md-nav__icon md-icon"></span>
          About
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../About/" class="md-nav__link">
        About the STACK Project
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../About/Credits/" class="md-nav__link">
        Contributors to the STACK Project
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../About/License/" class="md-nav__link">
        STACK licences
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../About/Logo/" class="md-nav__link">
        The mathematics of the STACK logo
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../About/Publications/" class="md-nav__link">
        Publications
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../About/The_philosophy_of_STACK/" class="md-nav__link">
        Philosophy of STACK
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_1-4" 
      type="checkbox" id="__nav_1-4" >
      
      
      
        <label class="md-nav__link" for="__nav_1-4" tabindex="0" aria-expanded="false">
          Authoring
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Authoring" data-md-level="2">
        <label class="md-nav__title" for="__nav_1-4">
          <span class="md-nav__icon md-icon"></span>
          Authoring
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/" class="md-nav__link">
        Authoring
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Advanced_JSXGraph/" class="md-nav__link">
        Advanced JSXGraph: stack_jxg.custom_bind
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Author_FAQ/" class="md-nav__link">
        Author FAQ
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Authoring_quick_start/" class="md-nav__link">
        Authoring quick start
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/CASText/" class="md-nav__link">
        CASText
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Deploying/" class="md-nav__link">
        Deploying
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Equivalence_reasoning/" class="md-nav__link">
        Getting started with equivalence reasoning
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Error_trapping/" class="md-nav__link">
        Error trapping
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Errors/" class="md-nav__link">
        Authoring validation errors
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Fact_sheets/" class="md-nav__link">
        Hints
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Feedback/" class="md-nav__link">
        Feedback
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Future_proof/" class="md-nav__link">
        Guidelines for ensuring that a question works in the future
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/GeoGebra/" class="md-nav__link">
        GeoGebra in STACK
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Inclusions/" class="md-nav__link">
        Inclusions
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Inputs/" class="md-nav__link">
        Inputs
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/JSXGraph/" class="md-nav__link">
        JSXGraph
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Languages/" class="md-nav__link">
        Producing multilingual content
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Matching/" class="md-nav__link">
        Authoring drag-and-drop matching and grid problems
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Multiple_choice_questions/" class="md-nav__link">
        Multiple choice questions
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Notes_about_performance/" class="md-nav__link">
        Notes about performance
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Numerical_input/" class="md-nav__link">
        Numerical input
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Options/" class="md-nav__link">
        Options
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Parsons/" class="md-nav__link">
        Authoring Parson's problem blocks
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Potential_response_trees/" class="md-nav__link">
        Potential response trees
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Question_note/" class="md-nav__link">
        Question note
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Reporting/" class="md-nav__link">
        Reporting
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Sample_questions/" class="md-nav__link">
        Sample Questions
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Serving_out_data/" class="md-nav__link">
        Serving out data
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Tables/" class="md-nav__link">
        Tables
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Testing/" class="md-nav__link">
        Testing, debugging and quality control
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Tidy_Tool/" class="md-nav__link">
        Tidy Tool
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Trees/" class="md-nav__link">
        Trees
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Variables/" class="md-nav__link">
        Defining variables
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Workflow/" class="md-nav__link">
        Question authoring workflow
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_1-4_35" 
      type="checkbox" id="__nav_1-4_35" >
      
      
      
        <label class="md-nav__link" for="__nav_1-4_35" tabindex="0" aria-expanded="false">
          Answer Tests
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Answer Tests" data-md-level="3">
        <label class="md-nav__title" for="__nav_1-4_35">
          <span class="md-nav__icon md-icon"></span>
          Answer Tests
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Answer_Tests/" class="md-nav__link">
        Answer tests
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Answer_Tests/Calculus/" class="md-nav__link">
        Calculus answer tests
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Answer_Tests/Equivalence/" class="md-nav__link">
        Equivalence
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Answer_Tests/Form/" class="md-nav__link">
        Algebraic Form
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Answer_Tests/Numerical/" class="md-nav__link">
        Numerical answer tests
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Answer_Tests/Other/" class="md-nav__link">
        Other answer tests
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Answer_Tests/Rule_based/" class="md-nav__link">
        Rules-based answer tests
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Answer_Tests/String/" class="md-nav__link">
        String matching
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_1-4_35_9" 
      type="checkbox" id="__nav_1-4_35_9" >
      
      
      
        <label class="md-nav__link" for="__nav_1-4_35_9" tabindex="0" aria-expanded="false">
          Results
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Results" data-md-level="4">
        <label class="md-nav__title" for="__nav_1-4_35_9">
          <span class="md-nav__icon md-icon"></span>
          Results
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Answer_Tests/Results/" class="md-nav__link">
        Answer test results
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Answer_Tests/Results/AlgEquiv/" class="md-nav__link">
        AlgEquiv: Answer test results
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Answer_Tests/Results/AlgEquivNouns/" class="md-nav__link">
        AlgEquivNouns: Answer test results
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Answer_Tests/Results/CasEqual/" class="md-nav__link">
        CasEqual: Answer test results
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Answer_Tests/Results/CompSquare/" class="md-nav__link">
        CompSquare: Answer test results
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Answer_Tests/Results/Diff/" class="md-nav__link">
        Diff: Answer test results
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Answer_Tests/Results/EqualComAss/" class="md-nav__link">
        EqualComAss: Answer test results
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Answer_Tests/Results/EqualComAssRules/" class="md-nav__link">
        EqualComAssRules: Answer test results
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Answer_Tests/Results/Equiv/" class="md-nav__link">
        Equiv: Answer test results
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Answer_Tests/Results/EquivFirst/" class="md-nav__link">
        EquivFirst: Answer test results
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Answer_Tests/Results/Expanded/" class="md-nav__link">
        Expanded: Answer test results
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Answer_Tests/Results/FacForm/" class="md-nav__link">
        FacForm: Answer test results
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Answer_Tests/Results/GT/" class="md-nav__link">
        GT: Answer test results
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Answer_Tests/Results/GTE/" class="md-nav__link">
        GTE: Answer test results
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Answer_Tests/Results/Int/" class="md-nav__link">
        Int: Answer test results
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Answer_Tests/Results/Levenshtein/" class="md-nav__link">
        Levenshtein: Answer test results
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Answer_Tests/Results/LowestTerms/" class="md-nav__link">
        LowestTerms: Answer test results
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Answer_Tests/Results/NumAbsolute/" class="md-nav__link">
        NumAbsolute: Answer test results
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Answer_Tests/Results/NumDecPlaces/" class="md-nav__link">
        NumDecPlaces: Answer test results
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Answer_Tests/Results/NumDecPlacesWrong/" class="md-nav__link">
        NumDecPlacesWrong: Answer test results
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Answer_Tests/Results/NumRelative/" class="md-nav__link">
        NumRelative: Answer test results
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Answer_Tests/Results/NumSigFigs/" class="md-nav__link">
        NumSigFigs: Answer test results
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Answer_Tests/Results/PartFrac/" class="md-nav__link">
        PartFrac: Answer test results
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Answer_Tests/Results/PropLogic/" class="md-nav__link">
        PropLogic: Answer test results
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Answer_Tests/Results/SRegExp/" class="md-nav__link">
        SRegExp: Answer test results
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Answer_Tests/Results/SameType/" class="md-nav__link">
        SameType: Answer test results
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Answer_Tests/Results/Sets/" class="md-nav__link">
        Sets: Answer test results
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Answer_Tests/Results/SigFigsStrict/" class="md-nav__link">
        SigFigsStrict: Answer test results
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Answer_Tests/Results/SingleFrac/" class="md-nav__link">
        SingleFrac: Answer test results
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Answer_Tests/Results/String/" class="md-nav__link">
        String: Answer test results
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Answer_Tests/Results/StringSloppy/" class="md-nav__link">
        StringSloppy: Answer test results
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Answer_Tests/Results/SubstEquiv/" class="md-nav__link">
        SubstEquiv: Answer test results
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Answer_Tests/Results/SysEquiv/" class="md-nav__link">
        SysEquiv: Answer test results
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Answer_Tests/Results/Units/" class="md-nav__link">
        Units: Answer test results
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Answer_Tests/Results/UnitsAbsolute/" class="md-nav__link">
        UnitsAbsolute: Answer test results
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Answer_Tests/Results/UnitsRelative/" class="md-nav__link">
        UnitsRelative: Answer test results
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Answer_Tests/Results/UnitsStrict/" class="md-nav__link">
        UnitsStrict: Answer test results
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Answer_Tests/Results/UnitsStrictAbsolute/" class="md-nav__link">
        UnitsStrictAbsolute: Answer test results
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Answer_Tests/Results/UnitsStrictRelative/" class="md-nav__link">
        UnitsStrictRelative: Answer test results
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_1-4_36" 
      type="checkbox" id="__nav_1-4_36" >
      
      
      
        <label class="md-nav__link" for="__nav_1-4_36" tabindex="0" aria-expanded="false">
          Question blocks
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Question blocks" data-md-level="3">
        <label class="md-nav__title" for="__nav_1-4_36">
          <span class="md-nav__icon md-icon"></span>
          Question blocks
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Question_blocks/" class="md-nav__link">
        Question blocks
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Question_blocks/Conditional_blocks/" class="md-nav__link">
        Conditional blocks
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Question_blocks/Dynamic_blocks/" class="md-nav__link">
        Dynamic blocks
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Question_blocks/Static_blocks/" class="md-nav__link">
        Static blocks
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Authoring/Question_blocks/System_blocks/" class="md-nav__link">
        System question blocks
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_1-5" 
      type="checkbox" id="__nav_1-5" >
      
      
      
        <label class="md-nav__link" for="__nav_1-5" tabindex="0" aria-expanded="false">
          CAS
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="CAS" data-md-level="2">
        <label class="md-nav__title" for="__nav_1-5">
          <span class="md-nav__icon md-icon"></span>
          CAS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../CAS/" class="md-nav__link">
        Maxima and computer algebra use in STACK
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../CAS/Buggy_rules/" class="md-nav__link">
        Buggy rules
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../CAS/Complex_numbers/" class="md-nav__link">
        Complex Numbers in STACK
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../CAS/Equations/" class="md-nav__link">
        Asking students to solve equations
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../CAS/Equivalence_reasoning/" class="md-nav__link">
        Reasoning by equivalence
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../CAS/Geometry/" class="md-nav__link">
        Geometry related Maxima functions
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../CAS/Greek/" class="md-nav__link">
        The Greek Alphabet
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../CAS/Inequalities/" class="md-nav__link">
        Inequalities
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../CAS/Matrix/" class="md-nav__link">
        Matrices and vectors in STACK
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../CAS/Maxima/" class="md-nav__link">
        Introduction to Maxima for STACK users
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../CAS/Numbers/" class="md-nav__link">
        Numbers in STACK
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../CAS/Permutations/" class="md-nav__link">
        Writing a permutation as a product of disjoint cycles
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../CAS/Predicate_functions/" class="md-nav__link">
        Predicate functions
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../CAS/Random/" class="md-nav__link">
        Random objects
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../CAS/Real_Intervals/" class="md-nav__link">
        Real intervals and sets of real numbers
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../CAS/STACK-Maxima_sandbox/" class="md-nav__link">
        STACK - Maxima Sandbox
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../CAS/Simplification/" class="md-nav__link">
        Simplification &amp; ordering
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../CAS/Statistics/" class="md-nav__link">
        Statistics support in STACK.
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../CAS/Strings/" class="md-nav__link">
        Strings in STACK questions
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../CAS/Subscripts/" class="md-nav__link">
        Subscripts
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../CAS/Systematic_deployment/" class="md-nav__link">
        Systematic deployment
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../CAS/Validator/" class="md-nav__link">
        Bespoke validators and feedback
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_1-6" 
      type="checkbox" id="__nav_1-6" checked>
      
      
      
        <label class="md-nav__link" for="__nav_1-6" tabindex="0" aria-expanded="true">
          Developer
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Developer" data-md-level="2">
        <label class="md-nav__title" for="__nav_1-6">
          <span class="md-nav__icon md-icon"></span>
          Developer
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        Developers
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../CASText2_lifecycle/" class="md-nav__link">
        CASText2 life-cycle
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../CAS_evaluatable/" class="md-nav__link">
        The family tree of cas_evaluatables.
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../Census/" class="md-nav__link">
        Maxima identifier census
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../Creating_an_input_type/" class="md-nav__link">
        Creating a new Input type
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../Development_history/" class="md-nav__link">
        STACK Development History
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../Development_track/" class="md-nav__link">
        Development track for STACK
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../Documentation/" class="md-nav__link">
        STACK User Documentation
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../Extracting_test_questions/" class="md-nav__link">
        Extracting questions to make into PHP/BEHAT unit test questions
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../Future_input_processing/" class="md-nav__link">
        Description of one possible future input processing pipeline
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../Future_plans/" class="md-nav__link">
        Future plans
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../Language_packs/" class="md-nav__link">
        Translation of the STACK Project
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../Maxima_packages/" class="md-nav__link">
        Adding support for Maxima packages
      </a>
    </li>
  

            
          
            
              
  
  
    
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Optimising STACK for large Maxima variables
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Optimising STACK for large Maxima variables
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-issue" class="md-nav__link">
    The issue
  </a>
  
    <nav class="md-nav" aria-label="The issue">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#in-questions" class="md-nav__link">
    In questions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-root-cause" class="md-nav__link">
    The root cause
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#experiments" class="md-nav__link">
    Experiments
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#proposed-optimisation" class="md-nav__link">
    Proposed optimisation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#experimental-results" class="md-nav__link">
    Experimental results
  </a>
  
    <nav class="md-nav" aria-label="Experimental results">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#batch-approach" class="md-nav__link">
    Batch approach
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-sbcl-with-stack-v450" class="md-nav__link">
    Using SBCL with STACK v4.5.0
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-sbcl-with-the-batch-optimisation-of-stackjson_stringify" class="md-nav__link">
    Using SBCL with the batch optimisation of stackjson_stringify
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#answer-tests" class="md-nav__link">
    Answer tests
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#input-tests" class="md-nav__link">
    Input tests
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    Conclusion
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../PHP-CAS/" class="md-nav__link">
        PHP interface with the CAS
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../Parser/" class="md-nav__link">
        Building the parser
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../Question_state_caching/" class="md-nav__link">
        Question state caching
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../Releasing/" class="md-nav__link">
        STACK release process notes
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../Releasing_ILIAS/" class="md-nav__link">
        Releasing new ILIAS version
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../STACK-JS/" class="md-nav__link">
        STACK-JS
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../Security_map/" class="md-nav__link">
        Security map
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../Syntax_Future/" class="md-nav__link">
        Future plans for syntax of answers and STACK.
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../Syntax_numbers/" class="md-nav__link">
        Entry of numbers in STACK
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../Unit_tests/" class="md-nav__link">
        Unit tests
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../Updating_JSXGraph/" class="md-nav__link">
        Updating JSXGraph
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../Website/" class="md-nav__link">
        Updating the Online Docs
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_1-7" 
      type="checkbox" id="__nav_1-7" >
      
      
      
        <label class="md-nav__link" for="__nav_1-7" tabindex="0" aria-expanded="false">
          Installation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Installation" data-md-level="2">
        <label class="md-nav__title" for="__nav_1-7">
          <span class="md-nav__icon md-icon"></span>
          Installation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Installation/" class="md-nav__link">
        Installation instructions.
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Installation/API/" class="md-nav__link">
        STACK API
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Installation/LTI/" class="md-nav__link">
        About LTI
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Installation/Mathjax/" class="md-nav__link">
        Displaying mathematics for STACK in Moodle
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Installation/Maxima/" class="md-nav__link">
        Compiling Maxima from source.
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Installation/Migration/" class="md-nav__link">
        Migration from STACK 3.X to STACK 4.0
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Installation/Optimising_Maxima/" class="md-nav__link">
        Optimising Maxima
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Installation/Release_notes_4_4_x/" class="md-nav__link">
        Release notes for STACK 4.4.x
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Installation/STACK_versions/" class="md-nav__link">
        STACK version map
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Installation/Testing_installation/" class="md-nav__link">
        Testing Installation
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_1-8" 
      type="checkbox" id="__nav_1-8" >
      
      
      
        <label class="md-nav__link" for="__nav_1-8" tabindex="0" aria-expanded="false">
          Maintaining
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Maintaining" data-md-level="2">
        <label class="md-nav__title" for="__nav_1-8">
          <span class="md-nav__icon md-icon"></span>
          Maintaining
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Maintaining/" class="md-nav__link">
        Maintaining questions and question banks
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Maintaining/Fixing_broken_questions/" class="md-nav__link">
        I have a misbehaving STACK question in a live Moodle quiz. What should I do?
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Maintaining/Local_Usage/" class="md-nav__link">
        Local Usage
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Maintaining/Running_question_tests_other_site/" class="md-nav__link">
        Running question tests for questions on other sites (command line)
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Maintaining/UpgradeDefaults/" class="md-nav__link">
        Upgrading question defaults
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_1-9" 
      type="checkbox" id="__nav_1-9" >
      
      
      
        <label class="md-nav__link" for="__nav_1-9" tabindex="0" aria-expanded="false">
          Moodle
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Moodle" data-md-level="2">
        <label class="md-nav__title" for="__nav_1-9">
          <span class="md-nav__icon md-icon"></span>
          Moodle
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Moodle/" class="md-nav__link">
        STACK within the Moodle VLE.
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Moodle/Import_Export/" class="md-nav__link">
        Import and Export of STACK questions
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Moodle/Question_bank/" class="md-nav__link">
        How do I find the Moodle question bank?
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Moodle/Semi-automatic_Marking/" class="md-nav__link">
        Semi-automatic Marking
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Moodle/Variant_matching/" class="md-nav__link">
        Variant matching
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_1-10" 
      type="checkbox" id="__nav_1-10" >
      
      
      
        <label class="md-nav__link" for="__nav_1-10" tabindex="0" aria-expanded="false">
          Plots
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Plots" data-md-level="2">
        <label class="md-nav__title" for="__nav_1-10">
          <span class="md-nav__icon md-icon"></span>
          Plots
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Plots/" class="md-nav__link">
        Plots and graphics in STACK
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Plots/Plots/" class="md-nav__link">
        Embedding Maxima-generated plots via plot(), a wrapper for Maimxa's plot2d()
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_1-11" 
      type="checkbox" id="__nav_1-11" >
      
      
      
        <label class="md-nav__link" for="__nav_1-11" tabindex="0" aria-expanded="false">
          Proof
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Proof" data-md-level="2">
        <label class="md-nav__title" for="__nav_1-11">
          <span class="md-nav__icon md-icon"></span>
          Proof
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Proof/" class="md-nav__link">
        Support for proof in STACK
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Proof/Proof_CAS_library/" class="md-nav__link">
        CAS libraries for representing text-based proofs
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Proof/Proof_assessment/" class="md-nav__link">
        Assessing Parson's problems and proofs
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Proof/Proof_styles/" class="md-nav__link">
        CSS Styles for displaying proof
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_1-12" 
      type="checkbox" id="__nav_1-12" >
      
      
      
        <label class="md-nav__link" for="__nav_1-12" tabindex="0" aria-expanded="false">
          Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Reference" data-md-level="2">
        <label class="md-nav__title" for="__nav_1-12">
          <span class="md-nav__icon md-icon"></span>
          Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Reference/" class="md-nav__link">
        Reference materials
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Reference/Actuarial/" class="md-nav__link">
        Notation used in actuarial work
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Reference/HELM/" class="md-nav__link">
        HELM
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Reference/HTML/" class="md-nav__link">
        Most useful HTML
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Reference/Latex/" class="md-nav__link">
        Useful LaTeX
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_1-13" 
      type="checkbox" id="__nav_1-13" >
      
      
      
        <label class="md-nav__link" for="__nav_1-13" tabindex="0" aria-expanded="false">
          Students
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Students" data-md-level="2">
        <label class="md-nav__title" for="__nav_1-13">
          <span class="md-nav__icon md-icon"></span>
          Students
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Students/" class="md-nav__link">
        Information for students
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Students/Accessibility/" class="md-nav__link">
        Accessibility
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Students/Answer_assessment/" class="md-nav__link">
        Answer assessment
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Students/Answer_input/" class="md-nav__link">
        Answer input
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Students/Equivalence_reasoning/" class="md-nav__link">
        Reasoning by Equivalence
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Students/FAQ/" class="md-nav__link">
        Frequently asked questions
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_1-14" 
      type="checkbox" id="__nav_1-14" >
      
      
      
        <label class="md-nav__link" for="__nav_1-14" tabindex="0" aria-expanded="false">
          Topics
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Topics" data-md-level="2">
        <label class="md-nav__title" for="__nav_1-14">
          <span class="md-nav__icon md-icon"></span>
          Topics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Topics/" class="md-nav__link">
        Mathematical topics
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Topics/Curve_sketching/" class="md-nav__link">
        Curve sketching
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Topics/Differential_equations/" class="md-nav__link">
        Differential Equations
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Topics/Discrete_mathematics/" class="md-nav__link">
        Discrete mathematics and graph theory.
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Topics/GeoGebra/" class="md-nav__link">
        Authoring your first GeoGebra question
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Topics/Levenshtein_distance/" class="md-nav__link">
        Damerau-Levenshtein distance and strings
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Topics/Linear_algebra/" class="md-nav__link">
        Setting linear algebra questions in STACK
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Topics/Matching/" class="md-nav__link">
        Authoring drag and drop matching problems in STACK
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Topics/Parsons/" class="md-nav__link">
        Authoring Parson's problems (drag and drop) in STACK
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Topics/Propositional_Logic/" class="md-nav__link">
        Propositional Logic
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Topics/Units/" class="md-nav__link">
        Scientific Units
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Topics/Unsorted_multi_input/" class="md-nav__link">
        Unsorted multi-input answers
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../Topics/Vector_Calculus/" class="md-nav__link">
        Vector Calculus in STACK
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
<!--Keep the rest the same-->
  

    
      
      
      

  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_2" 
      type="checkbox" id="__nav_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2" tabindex="0" aria-expanded="false">
          Ja
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Ja" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Ja
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../../ja/" class="md-nav__link">
        STACK
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_2_2" 
      type="checkbox" id="__nav_2_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2_2" tabindex="0" aria-expanded="false">
          AbInitio
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="AbInitio" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          AbInitio
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../../ja/AbInitio/" class="md-nav__link">
        問題作成クイック・スタート
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../../ja/AbInitio/Authoring_quick_start_1/" class="md-nav__link">
        問題作成クイック・スタート 1: 動作する最小限の問題
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../../ja/AbInitio/Authoring_quick_start_2/" class="md-nav__link">
        問題作成クイック・スタート・ガイド2：問題変数
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../../ja/AbInitio/Authoring_quick_start_3/" class="md-nav__link">
        問題作成クイック・スタート・ガイド 3：フィードバックを改善する
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../../ja/AbInitio/Authoring_quick_start_4/" class="md-nav__link">
        問題作成クイック・スタート・ガイド4：ランダム化
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../../ja/AbInitio/Authoring_quick_start_5/" class="md-nav__link">
        問題作成クイック・スタート・ガイド5：問題のテスト
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../../ja/AbInitio/Authoring_quick_start_6/" class="md-nav__link">
        問題作成クイック・スタート・ガイド 6: 複数解答欄問題
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../../ja/AbInitio/Authoring_quick_start_7/" class="md-nav__link">
        問題作成クイック・スタート 7: 数式簡略を無効化する
      </a>
    </li>
  

            
          
            
              
  
  
<!--Skip first level in the navigation bar, i.e. the "En" level-->
  
    <li class="md-nav__item">
      <a href="../../../ja/AbInitio/Authoring_quick_start_8/" class="md-nav__link">
        問題作成クイック・スタート・ガイド 8: 問題のインポートと小テスト
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-issue" class="md-nav__link">
    The issue
  </a>
  
    <nav class="md-nav" aria-label="The issue">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#in-questions" class="md-nav__link">
    In questions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-root-cause" class="md-nav__link">
    The root cause
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#experiments" class="md-nav__link">
    Experiments
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#proposed-optimisation" class="md-nav__link">
    Proposed optimisation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#experimental-results" class="md-nav__link">
    Experimental results
  </a>
  
    <nav class="md-nav" aria-label="Experimental results">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#batch-approach" class="md-nav__link">
    Batch approach
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-sbcl-with-stack-v450" class="md-nav__link">
    Using SBCL with STACK v4.5.0
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-sbcl-with-the-batch-optimisation-of-stackjson_stringify" class="md-nav__link">
    Using SBCL with the batch optimisation of stackjson_stringify
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#answer-tests" class="md-nav__link">
    Answer tests
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#input-tests" class="md-nav__link">
    Input tests
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    Conclusion
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="optimising-stack-for-large-maxima-variables">Optimising STACK for large Maxima variables</h1>
<p><em>Author: Salvatore Mercuri</em> \
<em>Date: 17/04/2024</em> \
<em>STACK version: 4.5.0</em> \
<em>Maxima versions: (a) 5.45.1 + GCL 2.6.12; (b) 5.47.0 + SBCL 2.3.2</em></p>
<p>This page documents efforts to optimise STACK for processing large Maxima variables, which may occur, for example, when
writing statistics questions which involve generating datasets. We describe: the specific issue as it arises in questions and in 
the STACK codebase; an approach to optimise STACK with respect to this issue; and evidence to support the use of this 
particular optimisation in future versions of STACK. </p>
<h2 id="the-issue">The issue</h2>
<h3 id="in-questions">In questions</h3>
<p>One approach to writing statistics questions in STACK involves generating a random dataset in Maxima (i.e., within the <code>Question variables</code> field) as a two-dimensional array and then sending this to the <code>Question text</code> field and allowing it to be downloadable by the student as a <code>csv</code> file. On a default configuration of Maxima (compiled with GCL Lisp), this can cause CAS timeouts when the question is loaded, for fairly small datasets. One example of this question, authored by members of IDEMS International CIC, involves generating a climate dataset of shape <code>(360, 4)</code>, which causes CAS timeouts when the question is loaded.</p>
<h3 id="the-root-cause">The root cause</h3>
<p>To determine the root cause we created a dummy question, which generates a dataset of fixed width and variable columns, having shape <code>(N, 4)</code> with a constant entry value of <code>100</code>, via the command </p>
<pre><code>    makelist(makelist(100, c, 1, 4), makelist(100, r, 1, N))
</code></pre>
<p>within <code>Question variables</code>. We intercepted the CAS command called on question load from STACK (version 4.5.0) and timed this within a Maxima terminal using the approach described <a href="https://docs.stack-assessment.org/en/Developer/Unit_tests/#timing-the-code">here</a>. This allowed us to see the total time globally and per function, the most called function, and the average time per call for each function. This information highlighted possible inefficiencies within the function <code>stackjson_stringify</code> found <a href="https://github.com/maths/moodle-qtype_stack/blob/dc19c913b6c4a8fc8b8ef20ae31ced699d23dd7b/stack/maxima/stackstrings.mac#L216">here</a>. This function converts the Maxima <code>stack_map</code> representation of a JSON object into a string containing an actual JSON object, ready for parsing on the PHP side. It is a crucial component that is used <a href="https://github.com/maths/moodle-qtype_stack/blob/dc19c913b6c4a8fc8b8ef20ae31ced699d23dd7b/stack/maxima/stackmaxima.mac#L692">at the point of communication between Maxima and PHP</a>.</p>
<h3 id="experiments">Experiments</h3>
<p>We performed a doubling experiment on the number of rows of the generated dataset to understand the nature of the inefficiencies in <code>stackjson_stringify</code> and record the total time taken for the CAS command used by STACK (version 4.5.0) to run within Maxima (version 5.45.1 + GCL 2.6.12). For each dataset shape ran five trials and we report here the average over trials. We did this with <code>stackjson_stringify</code> turned on (as in the version 4.5.0) and also by turning it off at the point of communication between Maxima and PHP, for comparison. We also report here the doubling ratio, defined as the total time taken by the CAS command for a dataset of shape <code>(2N, 4)</code> divided by the time taken for a dataset of shape <code>(2N, 4)</code>. For linear routines the doubling ratio should be around <code>2</code>, for quadratic around <code>4</code>. We use a dummy value of <code>0</code> if division by zero occurs in the doubling ratio. </p>
<p>The table below gives the results for STACK version v4.5.0 vs. when turning the <code>stackjson_stringify</code> function <strong>off</strong>. We can see that using <code>stackjson_stringify</code> sees at least quadratic growth in the CAS command. By linear interpolation, we estimate a maximum dataset size of <code>(518, 4)</code> within the standard CAS timeout limit of 10 seconds. On the other hand, turning this function off seems to lead to linear growth for the size of datasets tested.</p>
<table>
  <thead>
    <tr>
      <th>Shape</th>
      <th>Avg. time (v.4.5.0)</th>
      <th>Avg. time (Off)</th>
      <th>Doubling ratio (v4.5.0)</th>
      <th>Doubling ratio (Off)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="font-weight: bold">(2, 4)</td>
      <td>0.022</td>
      <td>0.008</td>
      <td>2.272</td>
      <td>1.000</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(4, 4)</td>
      <td>0.050</td>
      <td>0.008</td>
      <td>0.880</td>
      <td>0.750</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(8, 4)</td>
      <td>0.044</td>
      <td>0.006</td>
      <td>1.500</td>
      <td>0.000</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(16, 4)</td>
      <td>0.066</td>
      <td>0.000</td>
      <td>1.545</td>
      <td>0.000</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(32, 4)</td>
      <td>0.102</td>
      <td>0.004</td>
      <td>2.059</td>
      <td>2.500</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(64, 4)</td>
      <td>0.210</td>
      <td>0.010</td>
      <td>2.390</td>
      <td>2.000</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(128, 4)</td>
      <td>0.502</td>
      <td>0.020</td>
      <td>3.470</td>
      <td>1.500</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(256, 4)</td>
      <td>1.742</td>
      <td>0.030</td>
      <td>5.597</td>
      <td>1.600</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(512, 4)</td>
      <td>9.750</td>
      <td>0.048</td>
      <td>3.173</td>
      <td>1.917</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(1024, 4)</td>
      <td>30.938</td>
      <td>0.092</td>
      <td>4.350</td>
      <td>1.348</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(2048, 4)</td>
      <td>134.592</td>
      <td>0.124</td>
      <td>8.144</td>
      <td>2.290</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(4096, 4)</td>
      <td>1096.154</td>
      <td>0.284</td>
      <td>5.450</td>
      <td>1.972</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(8192, 4)</td>
      <td>5973.766</td>
      <td>0.560</td>
      <td>N/A</td>
      <td>2.075</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(16384, 4)</td>
      <td>N/A</td>
      <td>1.162</td>
      <td>N/A</td>
      <td>2.015</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(32768, 4)</td>
      <td>N/A</td>
      <td>2.342</td>
      <td>N/A</td>
      <td>2.120</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(65536, 4)</td>
      <td>N/A</td>
      <td>4.966</td>
      <td>N/A</td>
      <td>2.193</td>
    </tr>
  </tbody>
</table>

<h2 id="proposed-optimisation">Proposed optimisation</h2>
<p>Two-dimensional Maxima arrays, as generated above within <code>Question variables</code>, are evaluated and then communicated within a single string. As the number of rows of the dataset grows, the string will grow as well. Thus the problem seems to be within the <a href="https://github.com/maths/moodle-qtype_stack/blob/dc19c913b6c4a8fc8b8ef20ae31ced699d23dd7b/stack/maxima/stackstrings.mac#L222">string case</a> of the <code>stackjson_stringify</code> function. Indeed, due to immutability of strings within Lisp, the implementation of the <code>simplode</code> function, which is used within <code>stackjson_stringify</code>, requires a quadratic number of traversals through a string, since it applies <code>sconcat</code> character-by-character, creating new strings at each step.</p>
<p>One way of avoiding <code>simplode</code> is to pass each character as an argument to <code>sconcat</code>. That is, <code>simplode(["h", "e", "l", "l", "o"])</code> is the same as <code>sconcat("h", "e", "l", "l", "o")</code>. This would avoid the quadratic traversals caused by the intermediate string creation in <code>simplode</code>. However, like many programming languages, some Lisp compilations impose constraints on the number of arguments that can be passed to a function. In GCL v2.6.12, for example, this is 64. Hence we cannot apply this directly for the dataset generation case. </p>
<p>Instead we propose a <em>batch</em> version of <code>stackjson_stringify</code> that does the following for the string case:
  1. Create character list from the string and protect escapes on each character. 
  2. Split the character list up into batches of length 64.
  3. Loop through the batches and pass the batch to <code>sconcat</code> as 64 individual character arguments to create a batch string of length 64.
  4. <code>sconcat</code> the batch strings together.</p>
<p>The code for this approach can be found <a href="https://github.com/maths/moodle-qtype_stack/blob/2d2fc0e5fe8620163ff78644da0ce06ef5fa61df/stack/maxima/stackstrings.mac#L221">here</a>.</p>
<p>Note also that since this is really an issue with <em>string length</em>, rather than array dimension, this means that the precision of floating point numbers in dataset entries will also have an impact. Truncating these to a small precision will help to speed up the processing time.</p>
<h2 id="experimental-results">Experimental results</h2>
<p>Here, we report experimental results for the batch approach using GCL v2.6.12. We also report results for the batch approach as well as STACK v4.5.0 using Maxima version 5.47.0 along with SBCL v2.3.2 Lisp compilation.</p>
<p>As above, we perform a doubling experiment on the number of rows of a dataset, keeping the width and significant figures of the entry fixed at 4 and 3 respectively. Experiments are repeated 5 times for each shape, and the average across trials are reported.</p>
<h3 id="batch-approach">Batch approach</h3>
<p>The table below records doubling experiments for the proposed batch optimisation of <code>stackjson_stringify</code> vs. v4.5.0 of STACK. We observe that the batch version has a significant speed-up over v4.5.0, being around <strong>128 faster</strong> to run the CAS command with a dataset of shape (8192, 4) than v4.5.0 (46.6 seconds vs. 5973.766). However, as we may expect, the batching only helps to delay the quadratic growth, with the batch version seeing its doubling ratio approach 4 for much larger datasets. </p>
<table>
  <thead>
    <tr>
      <th>Shape</th>
      <th>Avg. time (Batch)</th>
      <th>Avg. time (v4.5.0)</th>
      <th>Doubling ratio (Batch)</th>
      <th>Doubling ratio (v4.5.0)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="font-weight: bold">(2, 4)</td>
      <td>0.050</td>
      <td>0.022</td>
      <td>0.880</td>
      <td>2.272</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(4, 4)</td>
      <td>0.044</td>
      <td>0.050</td>
      <td>1.182</td>
      <td>0.880</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(8, 4)</td>
      <td>0.052</td>
      <td>0.044</td>
      <td>1.500</td>
      <td>1.500</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(16, 4)</td>
      <td>0.078</td>
      <td>0.066</td>
      <td>1.538</td>
      <td>1.545</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(32, 4)</td>
      <td>0.120</td>
      <td>0.102</td>
      <td>2.017</td>
      <td>2.059</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(64, 4)</td>
      <td>0.242</td>
      <td>0.210</td>
      <td>1.950</td>
      <td>2.390</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(128, 4)</td>
      <td>0.472</td>
      <td>0.502</td>
      <td>1.881</td>
      <td>3.470</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(256, 4)</td>
      <td>0.888</td>
      <td>1.742</td>
      <td>2.130</td>
      <td>5.597</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(512, 4)</td>
      <td>1.892</td>
      <td>9.750</td>
      <td>2.016</td>
      <td>3.173</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(1024, 4)</td>
      <td>3.814</td>
      <td>30.938</td>
      <td>2.059</td>
      <td>4.350</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(2048, 4)</td>
      <td>7.854</td>
      <td>134.592</td>
      <td>2.153</td>
      <td>8.144</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(4096, 4)</td>
      <td>16.910</td>
      <td>1096.154</td>
      <td>2.756</td>
      <td>5.450</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(8192, 4)</td>
      <td>46.600</td>
      <td>5973.766</td>
      <td>2.661</td>
      <td>N/A</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(16384, 4)</td>
      <td>124.020</td>
      <td>N/A</td>
      <td>3.494</td>
      <td>N/A</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(32768, 4)</td>
      <td>433.362</td>
      <td>N/A</td>
      <td>3.741</td>
      <td>N/A</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(65536, 4)</td>
      <td>1621.212</td>
      <td>N/A</td>
      <td>N/A</td>
      <td>N/A</td>
    </tr>
  </tbody>
</table>

<h3 id="using-sbcl-with-stack-v450">Using SBCL with STACK v4.5.0</h3>
<p>We tested STACK v4.5.0 using Maxima 5.47.0 + SBCL v2.3.2 Lisp with a doubling experiment, and compared this to STACK v4.5.0 using Maxima 5.45.1 + GCL 2.6.12. We see that SBCL scales better to larger dataset sizes, without making any changes to the <code>stackjson_stringify</code> function. Indeed, using SBCL, the CAS command for a question with a dataset of shape (8192, 4) is around <strong>67 times faster</strong> than when using GCL (88.86 vs. 5973.766 seconds). Of course, there is still quadratic growth eventually when using SBCL.</p>
<table>
  <thead>
    <tr>
      <th>Shape</th>
      <th>Average time (SBCL 2.3.2)</th>
      <th>Average time (GCL 2.6.12)</th>
      <th>Doubling ratio (SBCL 2.3.2)</th>
      <th>Doubling ratio (GCL 2.6.12)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="font-weight: bold">(2, 4)</td>
      <td>0.018</td>
      <td>0.022</td>
      <td>1.17</td>
      <td>2.272</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(4, 4)</td>
      <td>0.021</td>
      <td>0.050</td>
      <td>1.29</td>
      <td>0.880</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(8, 4)</td>
      <td>0.027</td>
      <td>0.044</td>
      <td>1.52</td>
      <td>1.500</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(16, 4)</td>
      <td>0.041</td>
      <td>0.066</td>
      <td>1.68</td>
      <td>1.545</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(32, 4)</td>
      <td>0.069</td>
      <td>0.102</td>
      <td>1.74</td>
      <td>2.059</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(64, 4)</td>
      <td>0.12</td>
      <td>0.210</td>
      <td>2.02</td>
      <td>2.390</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(128, 4)</td>
      <td>0.242</td>
      <td>0.502</td>
      <td>2.31</td>
      <td>3.470</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(256, 4)</td>
      <td>0.56</td>
      <td>1.742</td>
      <td>2.18</td>
      <td>5.597</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(512, 4)</td>
      <td>1.22</td>
      <td>9.750</td>
      <td>2.32</td>
      <td>3.173</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(1024, 4)</td>
      <td>2.83</td>
      <td>30.938</td>
      <td>2.93</td>
      <td>4.350</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(2048, 4)</td>
      <td>8.28</td>
      <td>134.592</td>
      <td>2.86</td>
      <td>8.144</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(4096, 4)</td>
      <td>23.68</td>
      <td>1096.154</td>
      <td>3.75</td>
      <td>5.450</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(8192, 4)</td>
      <td>88.86</td>
      <td>5973.766</td>
      <td>4.66</td>
      <td>N/A</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(16384, 4)</td>
      <td>414.53</td>
      <td>N/A</td>
      <td>4.18</td>
      <td>N/A</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(32768, 4)</td>
      <td>1729.70</td>
      <td>N/A</td>
      <td>4.34</td>
      <td>N/A</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(65536, 4)</td>
      <td>7510.99</td>
      <td>N/A</td>
      <td>N/A</td>
      <td>N/A</td>
    </tr>
  </tbody>
</table>

<h3 id="using-sbcl-with-the-batch-optimisation-of-stackjson_stringify">Using SBCL with the batch optimisation of <code>stackjson_stringify</code></h3>
<p>By combining the scalability of SBCL-compiled Lisp with the batch optimisation we obtain the following doubling experiment results. SBCL combined with the batch optimisation is able to process the CAS command containing a dataset of size (8192, 4), with entries to three significant figures, around <strong>274 times faster</strong> than v4.5.0 of STACK using GCL-compiled Maxima (21.790 vs. 5973.766 seconds).</p>
<table>
  <thead>
    <tr>
      <th style="font-weight: bold">Shape</th>
      <th>Average time (SBCL + batch)</th>
      <th>Average time (GCL + batch)</th>
      <th>Average time (GCL + v4.5.0)</th>
      <th>Doubling ratio (SBCL + batch)</th>
      <th>Doubling ratio (GCL + batch)</th>
      <th>Doubling ratio (GCL + v4.5.0)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="font-weight: bold">(2, 4)</td>
      <td>0.0245</td>
      <td>0.050</td>
      <td>0.0220</td>
      <td>1.34</td>
      <td>0.880</td>
      <td>2.272</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(4, 4)</td>
      <td>0.0329</td>
      <td>0.044</td>
      <td>0.0500</td>
      <td>1.21</td>
      <td>1.182</td>
      <td>0.880</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(8, 4)</td>
      <td>0.0397</td>
      <td>0.052</td>
      <td>0.0440</td>
      <td>1.41</td>
      <td>1.500</td>
      <td>1.500</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(16, 4)</td>
      <td>0.0559</td>
      <td>0.078</td>
      <td>0.0660</td>
      <td>1.79</td>
      <td>1.538</td>
      <td>1.545</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(32, 4)</td>
      <td>0.0998</td>
      <td>0.120</td>
      <td>0.102</td>
      <td>1.66</td>
      <td>2.017</td>
      <td>2.059</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(64, 4)</td>
      <td>0.166</td>
      <td>0.242</td>
      <td>0.210</td>
      <td>1.92</td>
      <td>1.950</td>
      <td>2.390</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(128, 4)</td>
      <td>0.319</td>
      <td>0.472</td>
      <td>0.502</td>
      <td>2.00</td>
      <td>1.881</td>
      <td>3.470</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(256, 4)</td>
      <td>0.638</td>
      <td>0.888</td>
      <td>1.742</td>
      <td>1.76</td>
      <td>2.130</td>
      <td>5.597</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(512, 4)</td>
      <td>1.121</td>
      <td>1.892</td>
      <td>9.750</td>
      <td>2.28</td>
      <td>2.016</td>
      <td>3.173</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(1024, 4)</td>
      <td>2.553</td>
      <td>3.814</td>
      <td>30.938</td>
      <td>2.04</td>
      <td>2.059</td>
      <td>4.350</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(2048, 4)</td>
      <td>5.196</td>
      <td>7.854</td>
      <td>134.592</td>
      <td>2.12</td>
      <td>2.153</td>
      <td>8.144</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(4096, 4)</td>
      <td>11.016</td>
      <td>16.910</td>
      <td>1096.154</td>
      <td>1.98</td>
      <td>2.756</td>
      <td>5.450</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(8192, 4)</td>
      <td>21.790</td>
      <td>46.600</td>
      <td>5973.766</td>
      <td>2.18</td>
      <td>2.661</td>
      <td>N/A</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(16384, 4)</td>
      <td>47.523</td>
      <td>124.020</td>
      <td>N/A</td>
      <td>2.17</td>
      <td>3.494</td>
      <td>N/A</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(32768, 4)</td>
      <td>103.313</td>
      <td>433.362</td>
      <td>N/A</td>
      <td>2.78</td>
      <td>3.741</td>
      <td>N/A</td>
    </tr>
    <tr>
      <td style="font-weight: bold">(65536, 4)</td>
      <td>287.431</td>
      <td>1621.212</td>
      <td>N/A</td>
      <td>N/A</td>
      <td>N/A</td>
      <td>N/A</td>
    </tr>
  </tbody>
</table>

<h3 id="answer-tests">Answer tests</h3>
<p>While the above experiments show that combining SBCL-compiled Maxima with the proposed batch optimisation of <code>stackjson_stringify</code> offers improved scalability with respected to dataset shape, it is important to ensure that the proposed configurations and optimisations do not lead to inflated processing times for smaller strings that one typically sees in STACK questions. </p>
<p>To check this we run the answer test script (containing 2033 tests at the time of writing) on the STACK Plugin settings page on a Moodle dev environment on Linux 
Ubuntu 22.04.3, for the various STACK and Maxima compilations discussed above, with different STACK configured settings (e.g., whether to cache). These test scripts provide the total time taken, which we report in the table below. </p>
<p>We observe that when running STACK using (non-optimised) Linux and no cache, SBCL seems to inflate the time taken by the answer test which is something we found to be the case previously <a href="../../Installation/Optimising_Maxima/">here</a>. In all other configurations, however, there does not appear to be a discernible difference among the four columns. In particular, the use of the batch optimisation of <code>stackjson_stringify</code> does not appear to significantly affect the running time of the answer tests.</p>
<table>
  <thead>
    <tr>
      <th>Configuration</th>
      <th>v4.5.0 + GCL</th>
      <th>Batch + GCL</th>
      <th>v4.5.0 + SBCL</th>
      <th>Batch + SBCL </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Linux + no cache</td>
      <td>2650.97342</td>
      <td>2570.31382</td>
      <td>4089.26856</td>
      <td>4285.68446</td>
    </tr>
    <tr>
      <td>Linux + cache</td>
      <td>24.65304</td>
      <td>24.94076</td>
      <td>24.79924</td>
      <td>24.78967</td>
    </tr>
    <tr>
      <td>Linux optimised + no cache</td>
      <td>152.87</td>
      <td>162.38761</td>
      <td>144.23283</td>
      <td>149.15978</td>
    </tr>
    <tr>
      <td>Linux optimised + cache</td>
      <td>14.77583</td>
      <td>14.60997</td>
      <td>14.46183</td>
      <td>14.86618</td>
    </tr>
  </tbody>
</table>

<h3 id="input-tests">Input tests</h3>
<p>As above, we compare the running of the input test script (containing 439 tests at the time of writing) across the various configurations, compilations and versions to obtain the below table. Once again, we see an inflation when using SBCL for the non-optimised and non-caching configuration, however elsewhere the values remain similar across the columns. In particular, the batch optimisation of <code>stackjson_stringify</code> does not appear to significantly affect the running time of the input test script.</p>
<table>
  <thead>
    <tr>
      <th>Configuration</th>
      <th>v4.5.0 + GCL</th>
      <th>Batch + GCL</th>
      <th>v4.5.0 + SBCL</th>
      <th>Batch + SBCL </th>
    </tr>
  </thead>
<tbody>
    <tr>
      <td>Linux + no cache</td>
      <td>441.03543</td>
      <td>434.6876</td>
      <td>679.26826</td>
      <td>785.91072</td>
    </tr>
    <tr>
      <td>Linux + cache</td>
      <td>0.69035</td>
      <td>0.58897</td>
      <td>0.63175</td>
      <td>0.76072</td>
    </tr>
    <tr>
      <td>Linux optimised + no cache</td>
      <td>13.7997</td>
      <td>13.41784</td>
      <td>14.9878</td>
      <td>14.8885</td>
    </tr>
    <tr>
      <td>Linux optimised + cache</td>
      <td>0.57989</td>
      <td>0.63715</td>
      <td>0.58733</td>
      <td>0.61798</td>
    </tr>
  </tbody>
</table>

<h2 id="conclusion">Conclusion</h2>
<p>We summarise our key findings in the summary table below. The <em>Max dataset</em> field is calculated by linearly interpolating the above tables to obtain a dataset that can be generated within the specified CAS timeout limit (note that 10 seconds is default). The <em>Dataset uplift</em> is how many times more rows we can create using the specific configuration vs. v4.5.0 + Batch. Thus we can see that with a timeout limit of 100 seconds, Batch + SBCL can create a max dataset of shape <code>(31795, 4)</code> which is around 19 times larger than the max dataset of shape <code>(1706, 4)</code> that can be created in v4.5.0 + GCL. In all rows, we can see that Batch + SBCL outperforms the other three.</p>
<table>
  <thead>
    <tr>
      <th style="font-weight: bold;"></th>
      <th>v4.5.0 + GCL</th>
      <th>v4.5.0 + SBCL</th>
      <th>Batch + GCL</th>
      <th>Batch + SBCL</th>
    </tr>
  </thead>
  <tbody>
      <tr>
      <td style="font-weight: bold;">Time taken to process dataset of size (8192, 4)</td>
      <td>5973.766 seconds</td>
      <td>88.86 seconds</td>
      <td>46.6 seconds</td>
      <td>21.79 seconds</td>
    </tr>
    <tr>
      <td style="font-weight: bold;">Speedup over v4.5.0 + GCL</td>
      <td>1</td>
      <td>67.23</td>
      <td>128.19</td>
      <td>274.15</td>
    </tr>
    <tr>
      <td style="font-weight: bold;">Max dataset (10s)</td>
      <td>(518, 4)</td>
      <td>(2277, 4)</td>
      <td>(2533, 4)</td>
      <td>(3738, 4)</td>
    </tr>
    <tr>
      <td style="font-weight: bold;">Max dataset (30s)</td>
      <td>(1001, 4)</td>
      <td>(4493, 4)</td>
      <td>(5902, 4)</td>
      <td>(10806, 4)</td>
    </tr>
    <tr>
      <td style="font-weight: bold;">Max dataset (100s)</td>
      <td>(1706, 4)</td>
      <td>(8472, 4)</td>
      <td>(13842, 4)</td>
      <td>(31795, 4)</td>
    </tr>
    <tr>
      <td style="font-weight: bold;">Dataset uplift (10s) over v4.5.0 + GCL</td>
      <td>1</td>
      <td>4.40</td>
      <td>4.89</td>
      <td>7.21</td>
    </tr>
    <tr>
      <td style="font-weight: bold;">Dataset uplift (30s) over v4.5.0 + GCL </td>
      <td>1</td>
      <td>4.49</td>
      <td>5.90</td>
      <td>10.80</td>
    </tr>
    <tr>
      <td style="font-weight: bold;">Dataset uplift (100s) over v4.5.0 + GCL</td>
      <td>1</td>
      <td>4.97</td>
      <td>8.11</td>
      <td>18.63</td>
    </tr>
  </tbody>
</table>

<p>In conclusion, for authoring STACK questions in which large two-dimensional arrays are randomly generated as described, the following (possible in v4.5.0 of STACK) is recommended for current usage:
* Truncate floating point numbers which have high precision.
* Use SBCL-compiled Maxima.</p>
<p>For developers: it is recommended that we integrate the batch optimisation of <code>stackjson_stringify</code> in future versions of STACK, owing to the evidence showing better scalability with respect to string length alongside the lack of negative impact for typical STACK answer tests and inputs.</p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
<footer class="md-footer">
<div class ="md-main__inner md-grid">
<!--Copy of primary sidebar, which collapses-->
<div class="md-sidebar md-sidebar--primary_footer">

</div>
<!--Copy of secondary sidebar, which collapses-->
<div class ="md-sidebar md-sidebar--secondary">
</div>

<!--Footer-->
<div class="md-content">
<div class="md-content__inner md-typeset">
    <div class="row">
    <div class="footerColumn"><a href="https://www.stack-assessment.org">
    <img src="../../../content/logo_large.png" width="70px" style="margin-top:1.3em;float:left;">
    <h2 style="color:white;margin-top:1.1em!important;"><b>STACK</b></h2></a>
    </div>
    <div class="footerColumn"><a href="https://www.stack-assessment.org/About/">
        <h5 style="color:white;">About STACK</h5></a>
        <a href="https://www.stack-assessment.org/Training_and_events/"><h5 style="color:white;">Training and Events</h5></a>
        <a href="https://www.stack-assessment.org/Case_studies/"><h5 style="color:white;">Case Studies</h5></a>
        <a href="https://stack-demo.maths.ed.ac.uk/demo/"><h5 style="color:white;">Demonstration site</h5><a></div>
    <div class="footerColumn"><a href="https://www.stack-assessment.org/Legal/PrivacyStatement/">
        <h5 style="color:white;">Privacy statement</h5></a><a href="https://www.stack-assessment.org/Legal/Licenses/">
        <h5 style="color:white;">Licenses</h5></a><a href="https://www.stack-assessment.org/Legal/Accessibility/">
        <h5 style="color:white;">Accessibility</h5></a>
    </div>
    </div>
</div>
</div>
</div>
</footer>

    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
  <script id="__config" type="application/json">{"base": "../../..", "features": [], "search": "../../../assets/javascripts/workers/search.e5c33ebb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
  <script>
    var __search = {
      transform: function(query) {
        return query
      }
    }
  </script>

    
      <script src="../../../assets/javascripts/bundle.ba449ae6.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      
    
  </body>
</html>